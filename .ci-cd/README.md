# CI/CD Quality Gates — Method Enterprise Builder Planning v2.0.0

Ready-to-use CI/CD templates implementing the 5 enterprise quality gates corresponding to the critical phases of the METHOD-ENTERPRISE-BUILDER-PLANNING 8-phase cycle.

## Quick start (GitHub Actions)

```bash
# Copy the workflow to your project
cp .ci-cd/templates/github-actions/workflow-enterprise-builder.yml \
   .github/workflows/enterprise-builder.yml
```

## Gate mapping

| Gate | Phase | What it validates | Block |
|---|---|---|---|
| Gate 1 | Phase 1 | `docs/enterprise-context.md` exists with required sections | yes |
| Gate 3 | Phase 3 | STRIDE/risk document exists; no unmitigated critical risks | yes |
| Gate 5 | Phase 5 | All ADRs in `docs/adr/` pass adr-validator rules | yes |
| Gate 7 | Phase 7 | Tests pass + coverage ≥99% + microtask lint ≤50 lines | yes |
| Gate 8 | Phase 8 | All delivery artifacts present; all gates passed | yes (main only) |

## Templates

| Platform | File |
|---|---|
| GitHub Actions | `templates/github-actions/workflow-enterprise-builder.yml` |
| GitLab CI | `templates/gitlab-ci/.gitlab-ci.yml` |
| Azure DevOps | `templates/azure-devops/azure-pipelines.yml` |
| Jenkins | `templates/jenkins/Jenkinsfile` |

All templates delegate the core logic to the shared scripts in `scripts/` — no logic is duplicated.

## Scripts

| Script | What it does |
|---|---|
| `scripts/coverage-check.sh` | Reads `coverage/coverage-summary.json` and fails if any metric is below 99% |
| `scripts/adr-validator-ci.sh` | Runs the ADR Validator in JUnit mode against `docs/adr/` |
| `scripts/microtask-lint.sh` | Runs the Microtask Linter against `src/` in JSON mode |
| `scripts/validate-delivery.sh` | Phase 8 gate — checks all required artifacts exist |

## Required project structure

```
your-project/
├── docs/
│   ├── enterprise-context.md     ← Phase 1 output
│   └── adr/                      ← Phase 5 ADRs
│       ├── ADR-001-*.md
│       └── ADR-002-*.md
├── src/                          ← Source code validated by microtask-linter
└── coverage/
    └── coverage-summary.json     ← Generated by npm test --coverage
```
